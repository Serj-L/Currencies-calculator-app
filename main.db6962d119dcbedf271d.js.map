{"version":3,"file":"main.db6962d119dcbedf271d.js","mappings":"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","sources":["webpack://currencies-calculator-app/./src/app_modules/renderCurrenciesList.ts","webpack://currencies-calculator-app/./src/types/index.ts","webpack://currencies-calculator-app/./src/app_modules/renderAddCurrencyList.ts","webpack://currencies-calculator-app/./src/app_modules/renderCurrencySelectOptionsList.ts","webpack://currencies-calculator-app/./src/utils/index.ts","webpack://currencies-calculator-app/./src/api/localStorage.ts","webpack://currencies-calculator-app/./src/index.ts","webpack://currencies-calculator-app/./src/app_modules/themeSwitcher.ts","webpack://currencies-calculator-app/./src/app_modules/snackBar.ts","webpack://currencies-calculator-app/./src/app_modules/spinner.ts","webpack://currencies-calculator-app/./src/app_modules/scrollTop.ts","webpack://currencies-calculator-app/./src/api/nbrb.ts","webpack://currencies-calculator-app/./src/app_modules/datePicker.ts","webpack://currencies-calculator-app/./src/app_modules/warningElement.ts"],"sourcesContent":["var currenciesListElement = document.getElementById('currencies-list');\r\nvar baseCurrencyAbbreviationElement = document.getElementById('base-currency-abbreviation');\r\nvar template = document.getElementById('template');\r\nvar templateCurrencyListItem = template ? template.content.getElementById('currency-list-item') : null;\r\nvar templateCurrencyAmountLabel = templateCurrencyListItem ? templateCurrencyListItem.querySelector('[data-amount-label]') : null;\r\nvar templateCurrencyAmountInput = templateCurrencyListItem ? templateCurrencyListItem.querySelector('[data-amount-input]') : null;\r\nvar templateCurrencyRateValue = templateCurrencyListItem ? templateCurrencyListItem.querySelector('[data-currency-rate-value]') : null;\r\nvar templateDeleteCurrencyButton = templateCurrencyListItem ? templateCurrencyListItem.querySelector('[data-delete-currency-btn]') : null;\r\nexport var renderCurrenciesList = function (params) {\r\n    var currenciesList = params.currenciesList, baseCurrencies = params.baseCurrencies, baseCurrencyAbbreviation = params.baseCurrencyAbbreviation, currencyAmount = params.currencyAmount, currenciesData = params.currenciesData, _a = params.isClearListBeforeRender, isClearListBeforeRender = _a === void 0 ? true : _a;\r\n    if (!templateCurrencyListItem || !currenciesListElement || !currenciesData) {\r\n        return;\r\n    }\r\n    var currenciesListToRender = currenciesData\r\n        .filter(function (currency) { return currenciesList.has(currency.Cur_Abbreviation); })\r\n        .sort(function (currA, currB) {\r\n        if (!baseCurrencies.has(currA.Cur_Abbreviation) && baseCurrencies.has(currB.Cur_Abbreviation)) {\r\n            return 1;\r\n        }\r\n        if (baseCurrencies.has(currA.Cur_Abbreviation) && !baseCurrencies.has(currB.Cur_Abbreviation)) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    });\r\n    var baseCurrencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === baseCurrencyAbbreviation; });\r\n    if (!baseCurrencyData) {\r\n        return;\r\n    }\r\n    if (baseCurrencyAbbreviationElement) {\r\n        baseCurrencyAbbreviationElement.textContent = \"\".concat(baseCurrencyAbbreviation);\r\n    }\r\n    // clear HTML currencies list element\r\n    if (isClearListBeforeRender) {\r\n        currenciesListElement.textContent = '';\r\n    }\r\n    currenciesListToRender.forEach(function (currency) {\r\n        if (!templateCurrencyAmountLabel || !templateCurrencyAmountInput || !templateCurrencyRateValue || !templateDeleteCurrencyButton) {\r\n            return;\r\n        }\r\n        templateCurrencyAmountLabel.textContent = \"\".concat(currency.Cur_Name_Eng, \" (\").concat(currency.Cur_Abbreviation, \")\");\r\n        templateCurrencyAmountLabel.setAttribute('data-currency-abbreviation', \"\".concat(currency.Cur_Abbreviation));\r\n        templateCurrencyAmountInput.value = (baseCurrencyData.ratePerOneUnit / currency.ratePerOneUnit * currencyAmount).toFixed(2);\r\n        templateCurrencyAmountInput.setAttribute('data-currency-abbreviation', \"\".concat(currency.Cur_Abbreviation));\r\n        templateCurrencyRateValue.textContent = \"1 \".concat(currency.Cur_Abbreviation, \" = \").concat((currency.ratePerOneUnit / baseCurrencyData.ratePerOneUnit).toFixed(4), \" \").concat(baseCurrencyAbbreviation);\r\n        templateCurrencyRateValue.setAttribute('data-currency-abbreviation', \"\".concat(currency.Cur_Abbreviation));\r\n        templateDeleteCurrencyButton.disabled = baseCurrencies.has(currency.Cur_Abbreviation);\r\n        templateDeleteCurrencyButton.setAttribute('data-currency-abbreviation', \"\".concat(currency.Cur_Abbreviation));\r\n        var currencyListItem = templateCurrencyListItem.cloneNode(true);\r\n        currencyListItem.setAttribute('data-currency-abbreviation', \"\".concat(currency.Cur_Abbreviation));\r\n        if (currency.Cur_Abbreviation === baseCurrencyAbbreviation) {\r\n            currencyListItem.setAttribute('data-is-base-currency', 'true');\r\n        }\r\n        currenciesListElement.appendChild(currencyListItem);\r\n    });\r\n};\r\nexport var changeIsBaseCurrencyAttribute = function (baseCurrencyAbbreviation) {\r\n    var currencyListItems = document.querySelectorAll('#currency-list-item');\r\n    currencyListItems.forEach(function (currencyListItem) {\r\n        if (currencyListItem.getAttribute('data-currency-abbreviation') === baseCurrencyAbbreviation) {\r\n            currencyListItem.setAttribute('data-is-base-currency', 'true');\r\n        }\r\n        else {\r\n            currencyListItem.setAttribute('data-is-base-currency', 'false');\r\n        }\r\n    });\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nexport var LocalStorageKeys;\r\n(function (LocalStorageKeys) {\r\n    LocalStorageKeys[\"MAIN\"] = \"CurrenciesCalculatorApp\";\r\n})(LocalStorageKeys || (LocalStorageKeys = {}));\r\nexport var ThemeTypes;\r\n(function (ThemeTypes) {\r\n    ThemeTypes[\"LIGHT\"] = \"light\";\r\n    ThemeTypes[\"DARK\"] = \"dark\";\r\n})(ThemeTypes || (ThemeTypes = {}));\r\nexport var ThemeElementAttribute;\r\n(function (ThemeElementAttribute) {\r\n    ThemeElementAttribute[\"NAME\"] = \"data-theme-type\";\r\n})(ThemeElementAttribute || (ThemeElementAttribute = {}));\r\n","var availableCurrenciesListElement = document.getElementById('available-currencies-list');\r\nexport var renderAddCurrencyList = function (currenciesData, currenciesList) {\r\n    if (!availableCurrenciesListElement) {\r\n        return;\r\n    }\r\n    var availableCurrenciesListData = currenciesData.filter(function (currency) { return !currenciesList.has(currency.Cur_Abbreviation); });\r\n    availableCurrenciesListElement.innerText = '';\r\n    availableCurrenciesListData.forEach(function (currency) {\r\n        availableCurrenciesListElement.insertAdjacentHTML('beforeend', \"<div class=\\\"add-currencies__checkbox-wrapper\\\">\\n        <input class=\\\"add-currencies__input\\\" type=\\\"checkbox\\\" id=\".concat(currency.Cur_ID, \"-\").concat(currency.Cur_Abbreviation, \" name=\").concat(currency.Cur_Abbreviation, \" data-add-currencies-checkbox>\\n        <label class=\\\"add-currencies__label\\\" id=\\\"add-currencies-label\\\" for=\").concat(currency.Cur_ID, \"-\").concat(currency.Cur_Abbreviation, \" data-currency-abbreviation=\").concat(currency.Cur_Abbreviation, \">\").concat(currency.Cur_Name_Eng, \" (\").concat(currency.Cur_Abbreviation, \")</label>\\n      </div>\"));\r\n    });\r\n};\r\n","var currencySelectElement = document.getElementById('currency-select');\r\nexport var renderCurrencySelectOptionsList = function (baseCurrencyAbbreviation, currenciesList) {\r\n    if (!currencySelectElement) {\r\n        return;\r\n    }\r\n    currencySelectElement.innerText = '';\r\n    currenciesList.forEach(function (currencyAbbreviation) {\r\n        currencySelectElement.insertAdjacentHTML('beforeend', \"<option value=\".concat(currencyAbbreviation, \" \").concat(currencyAbbreviation === baseCurrencyAbbreviation ? 'selected disabled' : '', \" data-currency-select-option>\").concat(currencyAbbreviation, \"</option>\"));\r\n    });\r\n};\r\nexport var changeCurrencySelectOptionsAttributes = function (baseCurrencyAbbreviation) {\r\n    if (!currencySelectElement) {\r\n        return;\r\n    }\r\n    var selectOptions = document.querySelectorAll('[data-currency-select-option]');\r\n    selectOptions.forEach(function (option) {\r\n        var optionElement = option;\r\n        if (optionElement.value === baseCurrencyAbbreviation) {\r\n            option.setAttribute('selected', '');\r\n            option.setAttribute('disabled', '');\r\n        }\r\n        else {\r\n            option.removeAttribute('selected');\r\n            option.removeAttribute('disabled');\r\n        }\r\n    });\r\n    currencySelectElement.value = baseCurrencyAbbreviation;\r\n};\r\n","export var dateToStringConverter = function (date) {\r\n    var year = \"\".concat(date.getFullYear());\r\n    var month = date.getMonth() + 1 < 10 ? \"0\".concat(date.getMonth() + 1) : \"\".concat(date.getMonth() + 1);\r\n    var day = date.getDate() < 10 ? \"0\".concat(date.getDate()) : \"\".concat(date.getDate());\r\n    return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\r\n};\r\nexport function debounce(func, timeout) {\r\n    var timer;\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n            func.apply(void 0, args);\r\n        }, timeout);\r\n    };\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { LocalStorageKeys, } from '../types';\r\nexport var initializedLocalStorageData = function (key, initialValues) {\r\n    var data = localStorage.getItem(key);\r\n    if (data) {\r\n        return;\r\n    }\r\n    localStorage.setItem(key, JSON.stringify(initialValues));\r\n};\r\nexport var getDataFromLocalStorage = function (key) {\r\n    var data = localStorage.getItem(key);\r\n    return JSON.parse(data);\r\n};\r\nexport var setDataToLocalStorage = function (key, dataKey, value) {\r\n    var _a;\r\n    var dataFromLocalStorage = getDataFromLocalStorage(LocalStorageKeys.MAIN);\r\n    var newLocalStorageData = __assign(__assign({}, dataFromLocalStorage), (_a = {}, _a[dataKey] = value, _a));\r\n    localStorage.setItem(key, JSON.stringify(newLocalStorageData));\r\n};\r\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nimport { getSpecifedDateExchangeRates } from './api/nbrb';\r\nimport { initializedLocalStorageData, getDataFromLocalStorage, setDataToLocalStorage, } from './api/localStorage';\r\nimport { LocalStorageKeys, ThemeTypes, } from './types';\r\nimport { getCurrentThemeType, setInitialThemeTypeOnElement, changeThemeType, renderCurrenciesList, renderAddCurrencyList, renderCurrencySelectOptionsList, changeCurrencySelectOptionsAttributes, changeIsBaseCurrencyAttribute, setDatePickerParams, warningElementHandler, snackBarHandler, scrollTopActivate, } from './app_modules';\r\nimport { dateToStringConverter, debounce, } from './utils';\r\nimport './styles.scss';\r\n/* variables */\r\nvar themeAttributeElement = document.body;\r\nvar changeThemeTypeBtn = document.getElementById('theme-switcher');\r\nvar datePickerElement = document.getElementById('date-picker');\r\nvar baseCurrencySelectElement = document.getElementById('currency-select');\r\nvar currenciesListElement = document.getElementById('currencies-list');\r\nvar addCurrenciesBtnElement = document.getElementById('add-currencies-btn');\r\nvar addCurrenciesFormElement = document.getElementById('add-currencies-form');\r\nvar addCurrenciesListElement = document.getElementById('available-currencies-list');\r\nvar addCurrenciesResetBtnElement = document.getElementById('add-currencies-reset-btn');\r\nvar additinalInfoElement = document.getElementById('calculator-additional-info');\r\nvar currentDate = new Date();\r\nvar datePickerMinDate = new Date(2020, 0, 1);\r\nvar initialThemeType = window.matchMedia && window.window.matchMedia('(prefers-color-scheme: dark)').matches ? ThemeTypes.DARK : ThemeTypes.LIGHT;\r\nvar defaultBaseCurrency = 'BYN';\r\nvar baseCurrencyAbbreviation = defaultBaseCurrency;\r\nvar baseCurrencies = new Set(['BYN', 'RUB', 'USD', 'EUR', 'CNY']);\r\nvar defaultAmmount = 10;\r\nvar userCurrencyAmmount;\r\nvar userCurrenciesList;\r\nvar currenciesData = [];\r\n/* initial processes */\r\ninitializedLocalStorageData(LocalStorageKeys.MAIN, {\r\n    themeType: initialThemeType,\r\n    baseCurrencyAbbreviation: baseCurrencyAbbreviation,\r\n    currencyAmount: defaultAmmount,\r\n    currenciesList: Array.from(baseCurrencies),\r\n});\r\nbaseCurrencyAbbreviation = getDataFromLocalStorage(LocalStorageKeys.MAIN).baseCurrencyAbbreviation;\r\nuserCurrencyAmmount = getDataFromLocalStorage(LocalStorageKeys.MAIN).currencyAmount;\r\nuserCurrenciesList = new Set(getDataFromLocalStorage(LocalStorageKeys.MAIN).currenciesList);\r\nsetInitialThemeTypeOnElement(themeAttributeElement);\r\nif (datePickerElement) {\r\n    setDatePickerParams(datePickerElement, currentDate, datePickerMinDate, currentDate);\r\n}\r\nscrollTopActivate(300);\r\n// render currencies list and conrols elements lists (addCurrency available currencies list and currencySelect options)\r\ngetSpecifedDateExchangeRates(currentDate)\r\n    .then(function (currenciesDataFromAPI) {\r\n    renderCurrenciesList({\r\n        currenciesList: userCurrenciesList,\r\n        baseCurrencies: baseCurrencies,\r\n        baseCurrencyAbbreviation: baseCurrencyAbbreviation,\r\n        currenciesData: currenciesDataFromAPI,\r\n        currencyAmount: userCurrencyAmmount,\r\n    });\r\n    if (currenciesDataFromAPI === null || currenciesDataFromAPI === void 0 ? void 0 : currenciesDataFromAPI.length) {\r\n        currenciesData.push.apply(currenciesData, currenciesDataFromAPI);\r\n        renderAddCurrencyList(currenciesData, userCurrenciesList);\r\n        renderCurrencySelectOptionsList(baseCurrencyAbbreviation, userCurrenciesList);\r\n        additinalInfoElement === null || additinalInfoElement === void 0 ? void 0 : additinalInfoElement.classList.add('calculator__additional-info--active');\r\n    }\r\n    else {\r\n        warningElementHandler({\r\n            message: 'Ups, something went wrong &#128533',\r\n            containerElement: document.getElementById('currencies-list'),\r\n            tagName: 'li',\r\n            tagClassName: 'calculator__currencies-list-warning',\r\n            textTagClassName: 'calculator__currencies-list-warning-text',\r\n        });\r\n    }\r\n});\r\n/* listners and handlers */\r\n// change theme button handler\r\nchangeThemeTypeBtn === null || changeThemeTypeBtn === void 0 ? void 0 : changeThemeTypeBtn.addEventListener('click', function () { return changeThemeType(getCurrentThemeType(), themeAttributeElement); });\r\n// date picker handler + debouncer\r\nfunction datePickerHandler(event) {\r\n    if (!event) {\r\n        return;\r\n    }\r\n    var datePicker = event.target;\r\n    var date = datePicker.valueAsDate;\r\n    if (!date) {\r\n        return;\r\n    }\r\n    // check is date in the acceptable range (from minDate to maxDate)\r\n    var minDate = new Date(datePicker.min);\r\n    var maxDate = new Date(datePicker.max);\r\n    if (minDate && date < minDate) {\r\n        datePicker.value = dateToStringConverter(minDate);\r\n        date = minDate;\r\n        snackBarHandler(\"Entered date can't be earlier than \".concat(datePicker.min), 10000);\r\n    }\r\n    if (maxDate && date > maxDate) {\r\n        datePicker.value = dateToStringConverter(maxDate);\r\n        date = maxDate;\r\n        snackBarHandler(\"Entered date can't be later than \".concat(datePicker.max), 10000);\r\n    }\r\n    getSpecifedDateExchangeRates(date)\r\n        .then(function (currenciesDataFromAPI) {\r\n        renderCurrenciesList({\r\n            currenciesList: userCurrenciesList,\r\n            baseCurrencies: baseCurrencies,\r\n            baseCurrencyAbbreviation: baseCurrencyAbbreviation,\r\n            currenciesData: currenciesDataFromAPI,\r\n            currencyAmount: userCurrencyAmmount,\r\n        });\r\n        if (currenciesDataFromAPI === null || currenciesDataFromAPI === void 0 ? void 0 : currenciesDataFromAPI.length) {\r\n            currenciesData.length = 0;\r\n            currenciesData.push.apply(currenciesData, currenciesDataFromAPI);\r\n            renderAddCurrencyList(currenciesData, userCurrenciesList);\r\n        }\r\n        else {\r\n            datePicker.value = dateToStringConverter(currentDate);\r\n        }\r\n    });\r\n}\r\nvar debouncedDatePickerHandler = debounce(datePickerHandler, 600);\r\ndatePickerElement === null || datePickerElement === void 0 ? void 0 : datePickerElement.addEventListener('input', function (event) { return debouncedDatePickerHandler(event); });\r\n// base currency select handler\r\nbaseCurrencySelectElement === null || baseCurrencySelectElement === void 0 ? void 0 : baseCurrencySelectElement.addEventListener('change', function (event) {\r\n    var selectElement = event.target;\r\n    if (!selectElement) {\r\n        return;\r\n    }\r\n    var newBaseCurrencyAbbreviation = selectElement.value;\r\n    var baseCurrencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === newBaseCurrencyAbbreviation; });\r\n    var currencyRateValueElements = document.querySelectorAll('[data-currency-rate-value]');\r\n    var currencyAmountInputs = document.querySelectorAll('[data-amount-input]');\r\n    currencyRateValueElements.forEach(function (currency) {\r\n        var currencyAbbreviation = currency.getAttribute('data-currency-abbreviation');\r\n        var currencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === currencyAbbreviation; });\r\n        currency.textContent = \"1 \".concat(currencyData.Cur_Abbreviation, \" = \").concat((currencyData.ratePerOneUnit / baseCurrencyData.ratePerOneUnit).toFixed(4), \" \").concat(newBaseCurrencyAbbreviation);\r\n    });\r\n    baseCurrencyAbbreviation = newBaseCurrencyAbbreviation;\r\n    changeIsBaseCurrencyAttribute(baseCurrencyAbbreviation);\r\n    changeCurrencySelectOptionsAttributes(baseCurrencyAbbreviation);\r\n    setDataToLocalStorage(LocalStorageKeys.MAIN, 'baseCurrencyAbbreviation', baseCurrencyAbbreviation);\r\n    // setting new base currency amount\r\n    currencyAmountInputs.forEach(function (input) {\r\n        var inputElement = input;\r\n        if (inputElement.getAttribute('data-currency-abbreviation') !== baseCurrencyAbbreviation) {\r\n            return;\r\n        }\r\n        userCurrencyAmmount = inputElement.valueAsNumber;\r\n        setDataToLocalStorage(LocalStorageKeys.MAIN, 'currencyAmount', userCurrencyAmmount);\r\n    });\r\n    selectElement.blur();\r\n});\r\n// amount input handler + debouncer\r\nfunction currencyAmountInputHandler(event) {\r\n    if (!event) {\r\n        return;\r\n    }\r\n    var inputElement = event.target;\r\n    var newAmountValue = inputElement.valueAsNumber;\r\n    var newBaseCurrencyAbbreviation = inputElement.getAttribute('data-currency-abbreviation');\r\n    var baseCurrencyData;\r\n    // if base currency is changed\r\n    if (newBaseCurrencyAbbreviation !== baseCurrencyAbbreviation) {\r\n        var currencyRateValueElements = document.querySelectorAll('[data-currency-rate-value]');\r\n        baseCurrencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === newBaseCurrencyAbbreviation; });\r\n        currencyRateValueElements.forEach(function (currency) {\r\n            var currencyAbbreviation = currency.getAttribute('data-currency-abbreviation');\r\n            var currencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === currencyAbbreviation; });\r\n            currency.textContent = \"1 \".concat(currencyData.Cur_Abbreviation, \" = \").concat((currencyData.ratePerOneUnit / baseCurrencyData.ratePerOneUnit).toFixed(4), \" \").concat(newBaseCurrencyAbbreviation);\r\n        });\r\n        baseCurrencyAbbreviation = newBaseCurrencyAbbreviation;\r\n        changeIsBaseCurrencyAttribute(baseCurrencyAbbreviation);\r\n        changeCurrencySelectOptionsAttributes(baseCurrencyAbbreviation);\r\n        setDataToLocalStorage(LocalStorageKeys.MAIN, 'baseCurrencyAbbreviation', baseCurrencyAbbreviation);\r\n    }\r\n    else {\r\n        baseCurrencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === baseCurrencyAbbreviation; });\r\n    }\r\n    // changing ammount input handling\r\n    if (isNaN(newAmountValue)) {\r\n        return;\r\n    }\r\n    var currencyAmountInputElements = document.querySelectorAll('[data-amount-input]');\r\n    currencyAmountInputElements.forEach(function (input) {\r\n        if (input.getAttribute('data-currency-abbreviation') === baseCurrencyAbbreviation) {\r\n            return;\r\n        }\r\n        var currencyAbbreviation = input.getAttribute('data-currency-abbreviation');\r\n        var inputElement = input;\r\n        var currencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === currencyAbbreviation; });\r\n        inputElement.value = newAmountValue < 0 ? '0.00' : (baseCurrencyData.ratePerOneUnit / currencyData.ratePerOneUnit * newAmountValue).toFixed(2);\r\n    });\r\n    userCurrencyAmmount = newAmountValue < 0 ? 0 : newAmountValue;\r\n    setDataToLocalStorage(LocalStorageKeys.MAIN, 'currencyAmount', userCurrencyAmmount);\r\n    //entered currency amount formating\r\n    setTimeout(function () {\r\n        inputElement.value = userCurrencyAmmount.toFixed(2);\r\n    }, 3000);\r\n}\r\nvar debouncedCurrencyAmountInputHandler = debounce(currencyAmountInputHandler, 400);\r\ncurrenciesListElement === null || currenciesListElement === void 0 ? void 0 : currenciesListElement.addEventListener('input', function (event) { return debouncedCurrencyAmountInputHandler(event); });\r\n//add currencies open/close list button click handler\r\naddCurrenciesBtnElement === null || addCurrenciesBtnElement === void 0 ? void 0 : addCurrenciesBtnElement.addEventListener('click', function () {\r\n    addCurrenciesBtnElement.classList.toggle('add-currencies__btn--active');\r\n    addCurrenciesListElement === null || addCurrenciesListElement === void 0 ? void 0 : addCurrenciesListElement.scrollTo(0, 0);\r\n    addCurrenciesFormElement === null || addCurrenciesFormElement === void 0 ? void 0 : addCurrenciesFormElement.classList.toggle('add-currencies__form--active');\r\n    addCurrenciesResetBtnElement === null || addCurrenciesResetBtnElement === void 0 ? void 0 : addCurrenciesResetBtnElement.click();\r\n});\r\n// add currencies close list handlers (Esc key press and click out of specified elements)\r\nvar closeAddCurrenciesList = function () {\r\n    addCurrenciesBtnElement === null || addCurrenciesBtnElement === void 0 ? void 0 : addCurrenciesBtnElement.classList.remove('add-currencies__btn--active');\r\n    addCurrenciesFormElement === null || addCurrenciesFormElement === void 0 ? void 0 : addCurrenciesFormElement.classList.remove('add-currencies__form--active');\r\n};\r\n// Escape key press handler\r\ndocument.body.addEventListener('keyup', function (event) {\r\n    if (!(addCurrenciesFormElement === null || addCurrenciesFormElement === void 0 ? void 0 : addCurrenciesFormElement.classList.contains('add-currencies__form--active'))) {\r\n        return;\r\n    }\r\n    if (event.key === 'Escape') {\r\n        closeAddCurrenciesList();\r\n        addCurrenciesResetBtnElement === null || addCurrenciesResetBtnElement === void 0 ? void 0 : addCurrenciesResetBtnElement.click();\r\n    }\r\n});\r\n// click out of specified elements handler\r\ndocument.body.addEventListener('click', function (event) {\r\n    var _a;\r\n    if (!event) {\r\n        return;\r\n    }\r\n    var targetElement = event.target;\r\n    var isAddCurrenciesFormActive = addCurrenciesFormElement === null || addCurrenciesFormElement === void 0 ? void 0 : addCurrenciesFormElement.classList.contains('add-currencies__form--active');\r\n    if (!targetElement || !isAddCurrenciesFormActive) {\r\n        return;\r\n    }\r\n    var isTargetElementAddCurrenciesBtn = ((_a = targetElement.closest('button')) === null || _a === void 0 ? void 0 : _a.id) === 'add-currencies-btn';\r\n    var isTargetElementAddCurrenciesForm = targetElement.id === 'add-currencies-form';\r\n    var isTargetElementAddCurrenciesSubmitBtn = targetElement.id === 'add-currencies-submit-btn';\r\n    var isTargetElementAddCurrenciesResetBtn = targetElement.id === 'add-currencies-reset-btn';\r\n    var isTargetElementAddCurrenciesLabel = targetElement.id === 'add-currencies-label';\r\n    var isTargetElementAddCurrenciesCheckbox = 'addCurrenciesCheckbox' in targetElement.dataset;\r\n    if (isTargetElementAddCurrenciesBtn\r\n        || isTargetElementAddCurrenciesForm\r\n        || isTargetElementAddCurrenciesCheckbox\r\n        || isTargetElementAddCurrenciesLabel\r\n        || isTargetElementAddCurrenciesSubmitBtn\r\n        || isTargetElementAddCurrenciesResetBtn) {\r\n        return;\r\n    }\r\n    closeAddCurrenciesList();\r\n    addCurrenciesResetBtnElement === null || addCurrenciesResetBtnElement === void 0 ? void 0 : addCurrenciesResetBtnElement.click();\r\n});\r\n//add currencies handler\r\naddCurrenciesFormElement === null || addCurrenciesFormElement === void 0 ? void 0 : addCurrenciesFormElement.addEventListener('submit', function (event) {\r\n    if (!event || !event.target) {\r\n        return;\r\n    }\r\n    event.preventDefault();\r\n    closeAddCurrenciesList();\r\n    var formElement = event.target;\r\n    var formData = Object.fromEntries(new FormData(formElement).entries());\r\n    var choosenCurrenciesList = new Set(Object.keys(formData));\r\n    if (!choosenCurrenciesList.size) {\r\n        return;\r\n    }\r\n    var updatedCurrenciesList = __spreadArray(__spreadArray([], Array.from(userCurrenciesList), true), Array.from(choosenCurrenciesList), true);\r\n    userCurrenciesList = new Set(updatedCurrenciesList);\r\n    renderCurrenciesList({\r\n        currenciesList: choosenCurrenciesList,\r\n        baseCurrencies: baseCurrencies,\r\n        baseCurrencyAbbreviation: baseCurrencyAbbreviation,\r\n        currenciesData: currenciesData,\r\n        currencyAmount: userCurrencyAmmount,\r\n        isClearListBeforeRender: false,\r\n    });\r\n    renderAddCurrencyList(currenciesData, userCurrenciesList);\r\n    renderCurrencySelectOptionsList(baseCurrencyAbbreviation, userCurrenciesList);\r\n    setDataToLocalStorage(LocalStorageKeys.MAIN, 'currenciesList', updatedCurrenciesList);\r\n});\r\n// delete currency list item (card) from list button click handler\r\ncurrenciesListElement === null || currenciesListElement === void 0 ? void 0 : currenciesListElement.addEventListener('click', function (event) {\r\n    if (!event) {\r\n        return;\r\n    }\r\n    var target = event.target;\r\n    if (target.tagName !== 'BUTTON') {\r\n        return;\r\n    }\r\n    var removedCurrencyCardElement = target.closest('[data-currency-list-item]');\r\n    var removedCurrencyAbbreviation = target.getAttribute('data-currency-abbreviation');\r\n    if (!removedCurrencyCardElement || !removedCurrencyAbbreviation) {\r\n        return;\r\n    }\r\n    userCurrenciesList.delete(removedCurrencyAbbreviation);\r\n    renderAddCurrencyList(currenciesData, userCurrenciesList);\r\n    setDataToLocalStorage(LocalStorageKeys.MAIN, 'currenciesList', Array.from(userCurrenciesList));\r\n    currenciesListElement.removeChild(removedCurrencyCardElement);\r\n    // set base currency, curency amount to default values and recalculate exchange rates if removed currency is current base currency\r\n    if (removedCurrencyAbbreviation === baseCurrencyAbbreviation) {\r\n        baseCurrencyAbbreviation = defaultBaseCurrency;\r\n        changeIsBaseCurrencyAttribute(baseCurrencyAbbreviation);\r\n        var currencyRateValueElements = document.querySelectorAll('[data-currency-rate-value]');\r\n        var baseCurrencyData_1 = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === baseCurrencyAbbreviation; });\r\n        currencyRateValueElements.forEach(function (currency) {\r\n            var currencyAbbreviation = currency.getAttribute('data-currency-abbreviation');\r\n            var currencyData = currenciesData.find(function (currency) { return currency.Cur_Abbreviation === currencyAbbreviation; });\r\n            currency.textContent = \"1 \".concat(currencyData.Cur_Abbreviation, \" = \").concat((currencyData.ratePerOneUnit / baseCurrencyData_1.ratePerOneUnit).toFixed(4), \" \").concat(baseCurrencyAbbreviation);\r\n        });\r\n        setDataToLocalStorage(LocalStorageKeys.MAIN, 'baseCurrencyAbbreviation', baseCurrencyAbbreviation);\r\n        userCurrencyAmmount = defaultAmmount;\r\n        setDataToLocalStorage(LocalStorageKeys.MAIN, 'currencyAmount', userCurrencyAmmount);\r\n    }\r\n    renderCurrencySelectOptionsList(baseCurrencyAbbreviation, userCurrenciesList);\r\n});\r\n","import { getDataFromLocalStorage, setDataToLocalStorage, } from '../api/localStorage';\r\nimport { LocalStorageKeys, ThemeTypes, ThemeElementAttribute, } from '../types';\r\nexport var getCurrentThemeType = function () {\r\n    var dataFromLocalStorage = getDataFromLocalStorage(LocalStorageKeys.MAIN);\r\n    return dataFromLocalStorage.themeType;\r\n};\r\nexport var setInitialThemeTypeOnElement = function (element) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    var currentThemeType = getCurrentThemeType();\r\n    if (element.getAttribute(ThemeElementAttribute.NAME) === currentThemeType) {\r\n        return;\r\n    }\r\n    document.body.setAttribute(ThemeElementAttribute.NAME, currentThemeType);\r\n};\r\nexport var changeThemeType = function (currentThemeType, element) {\r\n    var newThemeType = currentThemeType === ThemeTypes.LIGHT ? ThemeTypes.DARK : ThemeTypes.LIGHT;\r\n    element.setAttribute(ThemeElementAttribute.NAME, newThemeType);\r\n    setDataToLocalStorage(LocalStorageKeys.MAIN, 'themeType', newThemeType);\r\n};\r\n","var snackBar = document.getElementById('snack-bar');\r\nvar snackBarMessageContainer = document.getElementById('snack-bar-text');\r\nexport var snackBarHandler = function (message, displayDuration) {\r\n    if (!snackBar || !snackBarMessageContainer) {\r\n        return;\r\n    }\r\n    snackBarMessageContainer.textContent = message;\r\n    snackBar.classList.add('snack-bar--active');\r\n    var timeoutID = setTimeout(function () {\r\n        snackBar.classList.remove('snack-bar--active');\r\n    }, displayDuration);\r\n    snackBar === null || snackBar === void 0 ? void 0 : snackBar.addEventListener('click', function () {\r\n        snackBar.classList.remove('snack-bar--active');\r\n        window.clearTimeout(timeoutID);\r\n    });\r\n};\r\n","var spinner = document.getElementById('spinner');\r\nexport var setSpinnerActive = function (isActive) {\r\n    if (!spinner) {\r\n        return;\r\n    }\r\n    if (isActive) {\r\n        spinner.classList.add('spinner--active');\r\n    }\r\n    else {\r\n        spinner.classList.remove('spinner--active');\r\n    }\r\n};\r\n","var scrollTop = document.getElementById('scroll-top');\r\nvar scrollTopButton = document.getElementById('scroll-top-button');\r\nexport var scrollTopActivate = function (triggerTopOffSet) {\r\n    if (!scrollTop || !scrollTopButton) {\r\n        return;\r\n    }\r\n    window.addEventListener('scroll', function () {\r\n        if (document.documentElement.scrollTop > triggerTopOffSet) {\r\n            if (!scrollTop.classList.contains('scroll-top--active')) {\r\n                scrollTop.classList.add('scroll-top--active');\r\n            }\r\n        }\r\n        else {\r\n            if (scrollTop.classList.contains('scroll-top--active')) {\r\n                scrollTop.classList.remove('scroll-top--active');\r\n            }\r\n        }\r\n    });\r\n    scrollTopButton.addEventListener('click', function () {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth',\r\n        });\r\n    });\r\n};\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { setSpinnerActive, snackBarHandler, } from '../app_modules';\r\nimport { dateToStringConverter } from '../utils';\r\nvar NBRB_API_ENDPOINT_URL = 'https://www.nbrb.by/api/exrates/';\r\nvar NBRB_API_EXCHANGE_RATES_DATA_ENDPOINT_URL = \"\".concat(NBRB_API_ENDPOINT_URL, \"/rates?periodicity=0\");\r\nvar NBRB_API_CURRENCIES_DATA_ENDPOINT_URL = \"\".concat(NBRB_API_ENDPOINT_URL, \"/currencies/\");\r\nvar cachedCurrenciesData = [];\r\nexport var getSpecifedDateNbrbExchangeRates = function (date) { return __awaiter(void 0, void 0, Promise, function () {\r\n    var response, data;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, fetch(\"\".concat(NBRB_API_EXCHANGE_RATES_DATA_ENDPOINT_URL, \"&ondate=\").concat(dateToStringConverter(date)))];\r\n            case 1:\r\n                response = _a.sent();\r\n                if (!response.ok) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, response.json()];\r\n            case 2:\r\n                data = _a.sent();\r\n                return [2 /*return*/, data];\r\n            case 3: throw new Error('Network error:' + response.status);\r\n        }\r\n    });\r\n}); };\r\nexport var getNbrbCurrenciesData = function () { return __awaiter(void 0, void 0, Promise, function () {\r\n    var response, data;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, fetch(NBRB_API_CURRENCIES_DATA_ENDPOINT_URL)];\r\n            case 1:\r\n                response = _a.sent();\r\n                if (!response.ok) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, response.json()];\r\n            case 2:\r\n                data = _a.sent();\r\n                return [2 /*return*/, data];\r\n            case 3: throw new Error('Network error:' + response.status);\r\n        }\r\n    });\r\n}); };\r\nexport var getSpecifedDateExchangeRates = function (date) { return __awaiter(void 0, void 0, Promise, function () {\r\n    var exchangeRates, extendedExchangeRates, error_1;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                _a.trys.push([0, 4, 5, 6]);\r\n                setSpinnerActive(true);\r\n                return [4 /*yield*/, getSpecifedDateNbrbExchangeRates(date)];\r\n            case 1:\r\n                exchangeRates = _a.sent();\r\n                extendedExchangeRates = [];\r\n                if (!!cachedCurrenciesData.length) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, getNbrbCurrenciesData()];\r\n            case 2:\r\n                cachedCurrenciesData = _a.sent();\r\n                _a.label = 3;\r\n            case 3:\r\n                extendedExchangeRates = exchangeRates.map(function (exchangeRate) {\r\n                    var _a = cachedCurrenciesData.find(function (currency) { return currency.Cur_ID === exchangeRate.Cur_ID; }), Cur_Name_Eng = _a.Cur_Name_Eng, Cur_QuotName_Eng = _a.Cur_QuotName_Eng, Cur_Name_EngMulti = _a.Cur_Name_EngMulti;\r\n                    var ratePerOneUnit = exchangeRate.Cur_OfficialRate / exchangeRate.Cur_Scale;\r\n                    return __assign(__assign({}, exchangeRate), { Cur_Abbreviation: exchangeRate.Cur_Abbreviation.toUpperCase(), Cur_Name_Eng: Cur_Name_Eng, Cur_QuotName_Eng: Cur_QuotName_Eng, Cur_Name_EngMulti: Cur_Name_EngMulti, ratePerOneUnit: ratePerOneUnit });\r\n                });\r\n                // add Belarusian ruble info\r\n                extendedExchangeRates.push({\r\n                    Cur_ID: 933,\r\n                    Date: extendedExchangeRates[0].Date,\r\n                    Cur_Abbreviation: 'BYN',\r\n                    Cur_Scale: 1,\r\n                    Cur_Name: ' ',\r\n                    Cur_OfficialRate: 1,\r\n                    Cur_Name_Eng: 'Belarusian Ruble',\r\n                    Cur_QuotName_Eng: '1 Belarusian Ruble',\r\n                    Cur_Name_EngMulti: 'Belarusian Rubles',\r\n                    ratePerOneUnit: 1,\r\n                });\r\n                return [2 /*return*/, extendedExchangeRates];\r\n            case 4:\r\n                error_1 = _a.sent();\r\n                snackBarHandler(error_1.message, 10000);\r\n                return [3 /*break*/, 6];\r\n            case 5:\r\n                setSpinnerActive(false);\r\n                return [7 /*endfinally*/];\r\n            case 6: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\n","import { dateToStringConverter } from '../utils';\r\nexport var setDatePickerParams = function (datePickerElement, date, minDate, maxDate) {\r\n    if (!datePickerElement) {\r\n        return;\r\n    }\r\n    datePickerElement.setAttribute('value', dateToStringConverter(date));\r\n    if (minDate) {\r\n        datePickerElement.setAttribute('min', dateToStringConverter(minDate));\r\n    }\r\n    if (maxDate) {\r\n        datePickerElement.setAttribute('max', dateToStringConverter(maxDate));\r\n    }\r\n};\r\n","export var warningElementHandler = function (params) {\r\n    var message = params.message, containerElement = params.containerElement, tagName = params.tagName, tagClassName = params.tagClassName, textTagClassName = params.textTagClassName;\r\n    if (!containerElement) {\r\n        return;\r\n    }\r\n    containerElement.insertAdjacentHTML('afterbegin', \"<\".concat(tagName.toLocaleLowerCase(), \" class=\").concat(tagClassName, \">\\n      <span class=\").concat(textTagClassName, \">\").concat(message, \"</span>\\n    </\").concat(tagName.toLocaleLowerCase(), \">\"));\r\n};\r\n"],"names":["LocalStorageKeys","ThemeTypes","ThemeElementAttribute","currenciesListElement","document","getElementById","baseCurrencyAbbreviationElement","template","templateCurrencyListItem","content","templateCurrencyAmountLabel","querySelector","templateCurrencyAmountInput","templateCurrencyRateValue","templateDeleteCurrencyButton","renderCurrenciesList","params","currenciesList","baseCurrencies","baseCurrencyAbbreviation","currencyAmount","currenciesData","_a","isClearListBeforeRender","currenciesListToRender","filter","currency","has","Cur_Abbreviation","sort","currA","currB","baseCurrencyData","find","textContent","concat","forEach","Cur_Name_Eng","setAttribute","value","ratePerOneUnit","toFixed","disabled","currencyListItem","cloneNode","appendChild","changeIsBaseCurrencyAttribute","querySelectorAll","getAttribute","availableCurrenciesListElement","renderAddCurrencyList","availableCurrenciesListData","innerText","insertAdjacentHTML","Cur_ID","currencySelectElement","renderCurrencySelectOptionsList","currencyAbbreviation","changeCurrencySelectOptionsAttributes","option","removeAttribute","dateToStringConverter","date","year","getFullYear","month","getMonth","day","getDate","debounce","func","timeout","timer","args","_i","arguments","length","clearTimeout","setTimeout","apply","userCurrencyAmmount","userCurrenciesList","key","initialValues","__assign","Object","assign","t","s","i","n","p","prototype","hasOwnProperty","call","this","getDataFromLocalStorage","data","localStorage","getItem","JSON","parse","setDataToLocalStorage","dataKey","dataFromLocalStorage","MAIN","newLocalStorageData","setItem","stringify","getCurrentThemeType","themeType","snackBar","snackBarMessageContainer","snackBarHandler","message","displayDuration","classList","add","timeoutID","remove","addEventListener","window","spinner","setSpinnerActive","isActive","scrollTop","scrollTopButton","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","NBRB_API_ENDPOINT_URL","NBRB_API_EXCHANGE_RATES_DATA_ENDPOINT_URL","NBRB_API_CURRENCIES_DATA_ENDPOINT_URL","cachedCurrenciesData","getSpecifedDateNbrbExchangeRates","response","fetch","ok","json","Error","status","getSpecifedDateExchangeRates","exchangeRates","extendedExchangeRates","error_1","map","exchangeRate","Cur_QuotName_Eng","Cur_Name_EngMulti","Cur_OfficialRate","Cur_Scale","toUpperCase","Date","Cur_Name","__spreadArray","to","from","pack","ar","l","Array","slice","themeAttributeElement","changeThemeTypeBtn","datePickerElement","baseCurrencySelectElement","addCurrenciesBtnElement","addCurrenciesFormElement","addCurrenciesListElement","addCurrenciesResetBtnElement","additinalInfoElement","currentDate","datePickerMinDate","initialThemeType","matchMedia","matches","DARK","LIGHT","Set","element","currentThemeType","NAME","setInitialThemeTypeOnElement","minDate","maxDate","setDatePickerParams","documentElement","contains","scrollTo","top","behavior","currenciesDataFromAPI","containerElement","tagName","tagClassName","textTagClassName","toLocaleLowerCase","newThemeType","debouncedDatePickerHandler","event","datePicker","target","valueAsDate","min","max","selectElement","newBaseCurrencyAbbreviation","currencyRateValueElements","currencyAmountInputs","currencyData","input","inputElement","valueAsNumber","blur","debouncedCurrencyAmountInputHandler","newAmountValue","isNaN","toggle","click","closeAddCurrenciesList","targetElement","isAddCurrenciesFormActive","isTargetElementAddCurrenciesBtn","closest","id","isTargetElementAddCurrenciesForm","isTargetElementAddCurrenciesSubmitBtn","isTargetElementAddCurrenciesResetBtn","isTargetElementAddCurrenciesLabel","isTargetElementAddCurrenciesCheckbox","dataset","preventDefault","formElement","formData","fromEntries","FormData","entries","choosenCurrenciesList","keys","size","updatedCurrenciesList","removedCurrencyCardElement","removedCurrencyAbbreviation","delete","removeChild","baseCurrencyData_1"],"sourceRoot":""}